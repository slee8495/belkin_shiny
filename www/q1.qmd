---
author: "Sangho Lee"
date: 7/11/2024
callout-appearance: minimal # this hides the blue "i" icon on .callout-notes
editor_options: 
  chunk_output_type: console
---


## Question 1: What key metrics would you propose to monitor over time to define the success of the team’s efforts in improving the revenue and why? Clearly define your metric(s) and explain how each is computed.

<br>

I will load the required packages to perform the analysis

```{r, message=FALSE, warning=FALSE}
library(tidyverse)
library(DT)
library(readxl)
library(skimr)
library(caret)

```


To proceed, let's first examine the data.

:::: {.callout-note collapse="false"}
### Variable Definitions

    - Week ending: Ending date of a 7 day week
    - asin : Product Identification Number
    - orderedRevenueAmount: Revenue from that of the product
    - orderedUnits: Units sold of the product
    - ASP: Selling Price
    - Category: Identified category
    - subcategory: Identified sub category
    - Marketing spend: $ spent on marketing
    - Views: # views on the product

::::

```{r, warning=FALSE, message=FALSE}
belkin_data <- readRDS("belkin_data.rds")
belkin_data %>% 
  janitor::clean_names() %>% 
  dplyr::mutate(week_ending = as.Date(week_ending)) -> belkin_data


belkin_data %>% 
  DT::datatable(options = list(pageLength = 10))

```


<br>

Examining the dataset, I need to identify the response variable and determine the most suitable independent variables.

Before diving into the statistical modeling, I want to ensure the data is usable for analysis.

Let's review the data structure and check for any missing values

```{r}
belkin_data %>% skim()

```

#### Interpretation of Data Summary

General Information:

- Number of rows: 14,717
- Number of columns: 9

Column Types:

- Character: 3 columns (asp, category, subcategory)
- Date: 1 column (week_ending)
- Numeric: 5 columns

Character Columns:

- asp: No missing values, 8,441 unique values, values range from 1 to 18 characters.
- category: No missing values, 4 unique values.
- subcategory: No missing values, 5 unique values.

Date Column:

- week_ending: No missing values, dates range from 2024-01-06 to 2024-06-22.

Numeric Columns:

- asin: Represents product identification numbers with a wide range of values.
- ordered_revenue_amount: Revenue varies significantly, with a median of 389.87, indicating most products earn less than the mean.
- ordered_units: Units sold also show wide variation; most products sell fewer units than the mean, as indicated by the median of 14.00.
- marketing_spend: Marketing spend is relatively consistent with a median of 3,035.00, close to the mean.
- views: Number of views per product varies, with a median of 1,040.00, showing a substantial range of visibility across products.


Key Takeaways:

- The dataset is complete with no missing values.
- The asp column, while currently a character type, should be converted to numeric for analysis.
- The week_ending column is correctly formatted as a date.
- There are multiple unique categories and subcategories, which can be useful for detailed analysis.

<br>

##### Now that there is no missing data, and the data is well-cleaned and ready for use, I will compute the metrics I propose to monitor over time to evaluate the success of the team’s efforts in improving revenue.


I will compute the linear regression model, as our response variable is a numeric revenue indicator.


```{r}
model_data <- belkin_data %>%
  mutate(ordered_revenue_amount = as.numeric(ordered_revenue_amount),
         ordered_units = as.numeric(ordered_units),
         asp = as.numeric(asp),
         marketing_spend = as.numeric(marketing_spend),
         views = as.numeric(views),
         category = as.factor(category),
         subcategory = as.factor(subcategory),
         ordered_revenue_amount = as.numeric(ordered_revenue_amount),
         ordered_units = as.numeric(ordered_units),
         asp = as.numeric(asp),
         marketing_spend = as.numeric(marketing_spend),
         views = as.numeric(views))

model_data <- model_data %>%
  replace_na(list(ordered_revenue_amount = 0,
                  ordered_units = 0,
                  asp = 0,
                  marketing_spend = 0,
                  views = 0)) %>%
  mutate(across(everything(), ~ replace(.x, is.infinite(.x) | is.nan(.x), 0)))



# Create dummy variables for categorical predictors
data_dummies <- dummyVars(" ~ .", data = model_data)
data_prepared <- predict(data_dummies, newdata = model_data) %>% as.data.frame()

# Split the data into training and testing sets
set.seed(123)
trainIndex <- createDataPartition(data_prepared$ordered_revenue_amount, p = 0.8, list = FALSE, times = 1)
data_train <- data_prepared[trainIndex,]
data_test <- data_prepared[-trainIndex,]

# Build the regression model
model <- lm(ordered_revenue_amount ~ ., data = data_train)

options(scipen = 999)
summary(model)


```

#### Key Insights from the Model

Significant Predictors:

- asin: Coefficient = 0.0115, p-value < 0.0000000000000002
- ordered_units: Coefficient = 20.6753, p-value < 0.0000000000000002
- asp: Coefficient = 31.3739, p-value < 0.0000000000000002

Non-Significant Predictors:

- week_ending: Coefficient = -0.3642, p-value = 0.6245
- category.a: Coefficient = 30.4025, p-value = 0.7746
- category.b: Coefficient = -3.5281, p-value = 0.9735
- category.c: Coefficient = 180.2484, p-value = 0.0899
- subcategory.aa: Coefficient = -106.1723, p-value = 0.3708
- subcategory.bb: Coefficient = 164.3422, p-value = 0.1660
- subcategory.cc: Coefficient = 5.2521, p-value = 0.9646
- subcategory.dd: Coefficient = -21.0199, p-value = 0.8593
- marketing_spend: Coefficient = -0.0347, p-value = 0.2829
- views: Coefficient = 0.0794, p-value = 0.2408

Model Fit:
Adjusted R-squared: 0.4845 (moderate explanatory power)
Residual Standard Error: 4067 (moderate fit)

<br>

I will now refine the model by removing the non-significant predictors and re-evaluating the model fit.

```{r}
refined_model <- lm(ordered_revenue_amount ~ asin + ordered_units + asp, data = data_train)
summary(refined_model)


```

### Insights from the Refined Model (Now, the overall model shows significant improvement in terms of the p-value.)

Key Points from the Model Summary

Significant Predictors:

- asin: Coefficient = 0.011480, p-value < 0.0000000000000002
- ordered_units: Coefficient = 20.671226, p-value < 0.0000000000000002
- asp: Coefficient = 31.411177, p-value < 0.0000000000000002

These predictors are highly significant (p-value < 0.001), indicating a strong relationship with ordered_revenue_amount.

Model Fit:

- Adjusted R-squared: 0.4844

This indicates that approximately 48.44% of the variance in ordered_revenue_amount is explained by the model.

- Residual Standard Error: 4068

This value indicates the average distance that the observed values fall from the regression line, showing a moderate fit.

- F-statistic: 3688, p-value < 0.00000000000000022
A high F-statistic and a very low p-value indicate that the model is statistically significant.

### Interpretation
Key Drivers of Revenue:

- asin: The positive coefficient (0.011480) suggests that products with higher asin values are associated with higher revenue.
- ordered_units: A very significant and positive coefficient (20.671226) indicates that an increase in the number of units sold significantly increases revenue.
- asp: The positive coefficient (31.411177) suggests that higher average selling prices are strongly associated with higher revenue.

Model Fit:

The model has a moderate explanatory power with an Adjusted R-squared of 0.4844.
The residual standard error of 4068 indicates a moderate fit, with some variability in the data not captured by the model.

Conclusion
The refined model is better because it focuses on the significant predictors, providing a clearer understanding of the key drivers of revenue. The high significance of asin, ordered_units, and asp confirms their strong impact on revenue. This model can be used to make informed decisions to optimize these factors and improve revenue.

<br>

## Business Recommendations

Business Recommendations

1. Focus on Increasing Units Sold

- Rationale: The number of units sold (ordered_units) is the most significant predictor of revenue, with a coefficient of 20.671226 and a very low p-value (< 0.0000000000000002). This strong positive relationship indicates that increasing the number of units sold will significantly boost revenue.

- Action: Implement strategies to increase units sold, such as promotional campaigns, discounts for bulk purchases, and improved product availability. Enhance distribution channels to ensure products are always in stock and accessible to customers.

2. Optimize Average Selling Price (ASP)

- Rationale: The average selling price (asp) also has a significant positive impact on revenue, with a coefficient of 31.411177 and a very low p-value (< 0.0000000000000002). Higher ASP contributes to higher revenue.

- Action: Evaluate the pricing strategy to find an optimal balance that maximizes revenue without reducing demand. Consider value-based pricing, premium pricing for high-demand products, and periodic price adjustments based on market trends and competitor pricing.

3. Leverage Product Identification (ASIN)

- Rationale: The asin variable, which represents product identification, has a significant positive coefficient of 0.011480 with a very low p-value (< 0.0000000000000002). This suggests that certain products inherently drive higher revenue.

- Action: Identify and prioritize products with high revenue potential based on their ASINs. Focus marketing and promotional efforts on these high-performing products. Additionally, analyze characteristics of these high-revenue ASINs to replicate their success across other products.

4. Re-evaluate Marketing Spend and Views

- Rationale: In the refined model, marketing spend (marketing_spend) and views (views) were not found to be significant predictors of revenue. This may suggest inefficiencies or misalignment in current marketing strategies.

- Action: Conduct a detailed analysis of marketing spend effectiveness and the conversion rate of views to sales. Reallocate marketing budget towards more impactful campaigns and channels. Consider A/B testing to identify which marketing strategies yield the highest return on investment.

5. Streamline Product Categories and Subcategories

- Rationale: The initial model indicated that product categories and subcategories were not significant predictors of revenue. This may indicate a need for better alignment or differentiation within these groups.

- Action: Review the product categorization and subcategorization to ensure they accurately reflect customer preferences and market demand. Streamline product lines to focus on high-performing categories and subcategories. Enhance cross-selling and up-selling strategies within these groups.

6. Continuous Monitoring and Adjustment

- Rationale: Business environments and market conditions are dynamic. Regular monitoring of key performance indicators (KPIs) is essential to ensure sustained revenue growth.

- Action: Establish a robust system for tracking and analyzing revenue-related metrics, including units sold, ASP, marketing spend, and views. Adjust strategies based on data-driven insights and market feedback. Implement a continuous improvement process to refine tactics and optimize performance.

### Summary

- By focusing on increasing units sold, optimizing ASP, leveraging high-revenue products, re-evaluating marketing strategies, streamlining product categories, and continuously monitoring performance, Belkin can significantly enhance its revenue on the Amazon Marketplace. These recommendations are based on the key insights from the refined regression model, which highlights the most impactful factors driving revenue.







